## Виджет-форма собирающиая данные посещения сайта 

Ввиду ограниченныых возможностей во времени мною было выбрано реализовывать при помощи Laravel поскольку он сильно ускоряет разворачивание проекта для тестирования и ускоряет разработку запросов к базе данных благодаря возможности использования выссокоуровневых функций Eloquent ORM. По моей личной оценке разработка на нативном php займет еще больше времени.

### Пояснения по коду

В файле `routes/web.php` распологаются маршруты:

`GET /domain-visits-app/{any}` - маршрут для Vue приложения  
`GET /test` - маршрут для тестирования отображения виджетов
`GET /api/domains` - маршрут получения списка доменов  
`POST /api/visits` - маршрут добавления посещений пользователей

Код виждета распологается в директории `public/widget`  

Начата реализвция фронтенда для отображения списка доменов доменов. Директория фронтенд приложения - `resources/js`

### Возникшие вопросы в процессе разработки
В Vue приложении требуется отображать таблицу с полями ĸол оставленных ĸонтаĸтов на сайте, сĸольĸо человеĸ оставили ĸонтаĸты. При заполнении формы и ее отправки на бэкенде создается посещение (visit) и контакт (contact), по каким полям идентифицировать что это тот же самый человек оставил контакты?  


### Предложения по доработкам и улучшению для масштабируемости сервиса
Такие данные как page,ip, user_agent, browser, device, platform при дальнейшем расширении сервиса, поскольку количество полей собираемых с фронтенда может увеличиться, возможно оптимальнее вынести в отдельную таблицу - visit_properties с полями id, name (название свойства, например page, device), value (значение соответсвуещего поля), created_at. 

### Разворачивание проекта 

```
composer install
```
или если не установлен локально php и composer
```
docker run --rm \
    -u "$(id -u):$(id -g)" \
    -v "$(pwd):/var/www/html" \
    -w /var/www/html \
    laravelsail/php82-composer:latest \
    composer install --ignore-platform-reqs
```
Поднятие приложения в Docker контейнерах при помощи Sail
```
./vendor/bin/sail up
./vendor/bin/sail artisan key:generate
./vendor/bin/sail artisan migrate
```
Установка зависимостей фронтенд сервиса
```
npm install
```

